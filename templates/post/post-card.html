{% load static %}
<link rel="stylesheet" href="{% static 'post/post-card.css' %}">
<div class="post-card" id={{ post.id }}>

    <div class="post-header">
        <div class="user-info">
            <a href="/profile/{{ post.author.id }}">
                <img class="avatar-icon" src="{{ post.get_author_icon_avatar }}" alt="{{ post.get_author_display_name }}">
                <span>{{ post.get_author_display_name }}</span>
            </a>
        </div>
    </div>


    <div class="post-body">
        {% if post.image %}
            <div class="post-gallery">
                <a href="{{ post.image.url }}">
                    <img class="post-image" src="{{ post.image.thumbnails.preview.url }}" alt="{{ title }}">
                </a>
            </div>
        {% endif %}


        {% if post.body %}
            {% if request.path == post.get_url %}
                <div class="post-text">{{ post.body }}</div>
            {% else %}
                <div class="post-short-text">{{ post.get_short_body }}</div>
            {% endif %}
        {% endif %}
    </div>

    <div class="post-stats">
        {{ post.created_at }}
        <div class="spacer"></div>
        {{ post.get_child_count }} Repl{{ post.get_child_count|pluralize:"y,ies"}}
        <div class="spacer"></div>
        <a class="see-more" href="/post/{{ post.id }}">See More &rarr;</a>
    </div>
</div>